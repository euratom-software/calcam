

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>File Formats &mdash; Calcam  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="next" title="Image Sources" href="dev_imsources.html" />
    <link rel="prev" title="Examples" href="api_examples.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                Version 2.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro_general.html">General Introduction to Calcam</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro_install_setup.html">Getting Up &amp; Running</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro_theory.html">Camera Calibration Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro_conventions.html">Concepts &amp; Conventions</a></li>
</ul>
<p class="caption"><span class="caption-text">GUI App User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gui_intro.html">Introduction &amp; Launcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_settings.html">Calcam Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_calib.html">Calibration by point fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_alignment_calib.html">Calibration by manual alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_virtual_calib.html">&#8220;Virtual&#8221; Calibrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_image_analyser.html">Image Analyser</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_viewer.html">3D Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_movement.html">Camera Movement Determination</a></li>
</ul>
<p class="caption"><span class="caption-text">API User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_calib.html">The Calibration Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_cadmodel.html">CAD Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_raycast.html">Ray Casting</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_rendering.html">Rendering Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_geom_matrix.html">Tomography Geometry Matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_movement.html">Camera Movement Correction</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">File Formats</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#calibrations">Calibrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#point-pairs">Point Pairs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cad-models">CAD Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="#raycast-results">Raycast Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#geometry-matrices">Geometry Matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#camera-movement-corrections">Camera Movement Corrections</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev_imsources.html">Image Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_coord_formatter.html">3D Coordinate Formatters</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Calcam</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>File Formats</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="file-formats">
<h1>File Formats<a class="headerlink" href="#file-formats" title="Permalink to this headline">¶</a></h1>
<p>This page gives information about the file formats used by Calcam to store data. This may be useful if you want to read the contents of these files from other software or manually manipulate them. The table below summarises the types of files used by Calcam; click on the file contents in the left-hand row of the table to go to the section below with more details.</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="26%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">File Contents</th>
<th class="head">File Extension</th>
<th class="head">Format Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#calfiles"><span class="std std-ref">Calibrations</span></a></td>
<td>.ccc</td>
<td>Zip file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pp"><span class="std std-ref">Point Pairs</span></a></td>
<td>.csv</td>
<td>CSV table</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#cad"><span class="std std-ref">CAD Models</span></a></td>
<td>.ccm</td>
<td>Zip file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#raydata"><span class="std std-ref">Raycast Results</span></a></td>
<td>.nc</td>
<td>NetCDF</td>
</tr>
<tr class="row-even"><td rowspan="3"><a class="reference internal" href="#gm"><span class="std std-ref">Geometry Matrices</span></a></td>
<td>.npz</td>
<td>NuMPy zip format</td>
</tr>
<tr class="row-odd"><td>.mat</td>
<td>MATLAB binary</td>
</tr>
<tr class="row-even"><td>.zip</td>
<td>Zipped ASCII</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mov"><span class="std std-ref">Camera Movement Corrections</span></a></td>
<td>.cmc</td>
<td>JSON</td>
</tr>
</tbody>
</table>
<div class="section" id="calibrations">
<span id="calfiles"></span><h2>Calibrations<a class="headerlink" href="#calibrations" title="Permalink to this headline">¶</a></h2>
<p>Calcam calibration files are zip archive files, i.e. can be opened with a zip archive manager, and have file extension <cite>.ccc</cite>. The structure inside the zip file can contain the following:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Calibration File (.ccc)
|
├── image.png               # Camera image being calibrated, in display orientation (present for fitting or manual alignment calibrations)
├── subview_mask.png        # Mask image showing which image pixels belong to which sub-views. Pixels with no image contain value 255.
├── pointpairs.csv          # Calibration point pair coordinates, see section below for format (present for point fitting calibrations)
├── calibration.json        # JSON file containing calibration metadata and configuration
|
├── calib_params_0.json     # For each image sub-view 0 to N, JSON files containing the
├── ...                     # fitted intrinsic and extrinsic calibration paremeters
├── calib_params_N.json     #
|
├── cad_config.json         # JSON file containing last-used CAD model configuration (name of CAD model, viewport, enabled features).
|
└── intrinsics_constraints  # Folder containing additional fitting constraints (e.g. chessboard images or images from other calibrations)
    |
    ├── im_000.png          # For each additional intrinsics constraint 0...N, an image PNG file and pointpairs CSV file.
    ├── points_000.csv
    ├── ...
    ├── im_NNN.png
    └── points_NNN.png
</pre></div>
</div>
</div>
<div class="section" id="point-pairs">
<span id="pp"></span><h2>Point Pairs<a class="headerlink" href="#point-pairs" title="Permalink to this headline">¶</a></h2>
<p>Point pairs are stored in human-readable comma-separated tables in <cite>.csv</cite> files. These give the correspondence between 3D coordimates on the CAD model and image pixel coordinates in each image sub-view. An example layout of a point pairs file for an image with 2 sub-views is shown below:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="12%" />
<col width="12%" />
<col width="2%" />
<col width="13%" />
<col width="10%" />
<col width="2%" />
<col width="13%" />
<col width="10%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>World Coordinates [m]</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>Sub-view 0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>Sub-view 1</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>Machine X</td>
<td>Machine Y</td>
<td>Machine Z</td>
<td>&nbsp;</td>
<td>Image X</td>
<td>Image Y</td>
<td>&nbsp;</td>
<td>Image X</td>
<td>Image Y</td>
</tr>
<tr class="row-odd"><td>-3.7296</td>
<td>-0.2063</td>
<td>-0.4603</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>201.23</td>
<td>339.66</td>
</tr>
<tr class="row-even"><td>-3.7358</td>
<td>0.2128</td>
<td>-0.4593</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>227.2</td>
<td>336.2</td>
</tr>
<tr class="row-odd"><td>-3.887</td>
<td>-0.2041</td>
<td>0.4694</td>
<td>&nbsp;</td>
<td>192.35</td>
<td>216.91</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>-3.8964</td>
<td>0.2144</td>
<td>0.4628</td>
<td>&nbsp;</td>
<td>218.54</td>
<td>223.7</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>There are 2 header rows, then each numerical row consists of, from left-to-right: 3D X, Y, Z of each point, then for each sub-view a blank cell followed by the image X and Y. Each point can have image coordinates in 1 or more sub-views (i.e. if a 3D point is visible in multiple sub-views, the image coordinates can be populated in the columns corresponding to all of those sub-views).</p>
</div>
<div class="section" id="cad-models">
<span id="cad"></span><h2>CAD Models<a class="headerlink" href="#cad-models" title="Permalink to this headline">¶</a></h2>
<p>Similarly to calibrations, CAD model definition files are zip archives but with extension <cite>.ccm</cite>. The easiest (and recommended) way to construct or edit them is with the <a class="reference internal" href="gui_settings.html#cad-editor"><span class="std std-ref">The CAD Model Definition Editor</span></a>. The contents of the zip file follow the structure shown below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>CAD Definition File (.ccm)
|
├── model.json              # JSON file containing metadata including model variants, mapping of mesh files to named features, default colours, pre-set viewports.
├── wall_contour.txt        # If present, 2-column ASCII table of R,Z locations tracing out the wall contour in the R,Z plane.
|
└── usercode                # Folder containing python code for custom format coordinate display. May contain .py files and/or subfolders
|
└── .large                  # Folder containing the actual mesh data
    |
    ├── Model variant 1     # Typically (but not necesserily) 1 folder per model variant
    |   |
    |   ├── featureA.stl    # Individual CAD mesh files in .stl or .obj format.
    |   └── featureB.obj
    |
    └── Model variant 2
        |
        ├── featureA.stl
        └── featureB.obj
</pre></div>
</div>
</div>
<div class="section" id="raycast-results">
<span id="raydata"></span><h2>Raycast Results<a class="headerlink" href="#raycast-results" title="Permalink to this headline">¶</a></h2>
<p>Ray casting results are stored in NetCDF files with extension <code class="docutils literal"><span class="pre">.nc</span></code>. This file contains:</p>
<div class="section" id="netcdf-attributes">
<h3>NetCDF Attributes<a class="headerlink" href="#netcdf-attributes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">history</span></code></dt>
<dd><p class="first last">Human readable provenance of the data.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">image_transform_actions</span></code></dt>
<dd><p class="first last">List of geometrical transformations to convert the camera image corresponding to this calibration from Original to Display coordinates.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="netcdf-variables">
<h3>NetCDF Variables<a class="headerlink" href="#netcdf-variables" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">PixelXLocation</span></code></dt>
<dd><p class="first last">Horizontal (x) position on the detector, in pixels, at each point which has been ray-casted. Note that these coordinates are <cite>Display</cite> coordinates, regardless of how the raycasting was called. Shape depends on how the ray-casting was called.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">PixelYLocation</span></code></dt>
<dd><p class="first last">Vertical (y) position on the detector, in pixels, at each point which has been ray-casted. Note that these coordinates are <cite>Display</cite> coordinates, regardless of how the raycasting was called. Shape depends on how the ray-casting was called.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">RayStartCoords</span></code></dt>
<dd><p class="first last">The 3D starting position of the rays (i.e. the camera pupil position) in metres. This array has the same shape as <code class="docutils literal"><span class="pre">PixelXLocation</span></code> and <code class="docutils literal"><span class="pre">PixelYLocation</span></code> with an additional dimension to store the X,Y,Z components of the location.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">RayEndCoords</span></code></dt>
<dd><p class="first last">The 3D ending position of the rays (i.e. the point where the ray intersects the CAD model) in metres. This array has the same shape as <code class="docutils literal"><span class="pre">PixelXLocation</span></code> and <code class="docutils literal"><span class="pre">PixelYLocation</span></code> with an additional dimension to store the X,Y,Z components of the location.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">ModelNormals</span></code></dt>
<dd><p class="first last">The 3D surface normal vectors at the points of intersection between the sight-lines and CAD model. This array has the same shape as <code class="docutils literal"><span class="pre">PixelXLocation</span></code> and <code class="docutils literal"><span class="pre">PixelYLocation</span></code> with an additional dimension to store the X,Y,Z components of the vectors. This is only present if the <cite>calc_normals=True</cite> argument was used when doing the ray-casting.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">Binning</span></code></dt>
<dd><p class="first last">If the raycast was for the entire image, this contains the image binning factor used when raycasting.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">image_original_shape</span></code></dt>
<dd><p class="first last">2-element array containing the (width,height) shape of the image (in original orientation)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">image_offset</span></code></dt>
<dd><p class="first last">2-element array giving the (x,y) offset of the (0,0) pixel position in this data compared with the full camera detector (i.e. used if the raycast is for a sub-window of the detector)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">image_original_pixel_aspect</span></code></dt>
<dd><p class="first last">The pizel aspect ratio in the original image.</p>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="geometry-matrices">
<span id="gm"></span><h2>Geometry Matrices<a class="headerlink" href="#geometry-matrices" title="Permalink to this headline">¶</a></h2>
<p>Geometry matrices can be saved in 3 different formats: NumPy zip files (<code class="docutils literal"><span class="pre">.npz</span></code>) which can be loaded with <code class="docutils literal"><span class="pre">numpy.load()</span></code>; matlab <code class="docutils literal"><span class="pre">.mat</span></code> files, or <code class="docutils literal"><span class="pre">.zip</span></code> files containing ASCII data files. Whichever format the files are saved in, they contain the following variables / data:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When saved in <code class="docutils literal"><span class="pre">.zip</span></code> format, the follwing variables are saved as fields in a <code class="docutils literal"><span class="pre">JSON</span></code> file called <code class="docutils literal"><span class="pre">metadata.json</span></code>: <code class="docutils literal"><span class="pre">mat_shape,</span> <span class="pre">binning,</span> <span class="pre">pixel_order,</span> <span class="pre">grid_type,</span> <span class="pre">history</span> <span class="pre">,</span> <span class="pre">im_transform_actions</span> <span class="pre">,</span> <span class="pre">im_px_aspect,</span> <span class="pre">im_coords</span></code>. The other variables listed below are saved in individual <cite>.txt</cite> files.</p>
</div>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">mat_shape</span></code></dt>
<dd><p class="first last">2-element array giving the shape (n_rows, n_columns) of the geometry matrix</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">im_shape</span></code></dt>
<dd><p class="first last">2-element array giving the (width,height) of the camera image</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">im_coords</span></code></dt>
<dd><p class="first last">Whether the pixel layout in this matrix is based on starting with an image in &#8216;Display&#8217; or &#8216;Original&#8217; orientation</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">mat_row_inds</span></code></dt>
<dd><p class="first last">Row indices of each matrix element stored in <code class="docutils literal"><span class="pre">mat_data</span></code>. This is a 1D array with number of elements = number of non-zero entries in the geometry matrix.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">mat_col_inds</span></code></dt>
<dd><p class="first last">Column indices of each matrix element stored in <code class="docutils literal"><span class="pre">mat_data</span></code>.  This is a 1D array with number of elements = number of non-zero entries in the geometry matrix.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">mat_data</span></code></dt>
<dd><p class="first last">The actual geometry matrix data. The position of each element of this array in the geometry matrix is given by the corresponding entries in <code class="docutils literal"><span class="pre">mat_row_inds</span></code> and <code class="docutils literal"><span class="pre">mat_col_inds</span></code>.  This is a 1D array with number of elements = number of non-zero entries in the geometry matrix.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">grid_verts</span></code></dt>
<dd><p class="first last">Nx2 array, where N is the number of vertices in the reconstruction grid. Each row of this array is the R,Z position of a vertex in the reconstruction grid.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">grid_cells</span></code></dt>
<dd><p class="first last">N_cells x N_verts_per_cell array defining the reconstruction grid cells. Each row of this array corresponds to a single grid cell and gives the indices in to the first dimension of <code class="docutils literal"><span class="pre">grid_verts</span></code> for all of the vertices of that grid cell.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">grid_wall</span></code></dt>
<dd><p class="first last">Array containing the device wall contour in the R, Z plane. This is an Nx2 array where N is the number of points in the wall contour.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">binning</span></code></dt>
<dd><p class="first last">Image binning factor the matrix is to be used with</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">pixel_order</span></code></dt>
<dd><p class="first last">The order of 2D -&gt; 1D array unwrapping when re-shaping the 2D image to a 1D vector for use with this matrix. This is a string, either &#8216;C&#8217; for left-to-right, then row-by-row, or &#8216;F&#8217; for top-to-bottom, then column-by-column.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">pixel_mask</span></code></dt>
<dd><p class="first last">Boolean array the same size as the (un-binned) image indicating whether each pixel has been included (if True) or not included (if False) in the matrix.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">history</span></code></dt>
<dd><p class="first last">Human readable provenance of the geometry matrix</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">grid_type</span></code></dt>
<dd><p class="first last">Name of the calcam class identifying the type of reconstruction grid</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">im_transforms</span></code></dt>
<dd><p class="first last">List of geometrical transforms to transform the camera image from Original to Display orientation</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">im_px_aspect</span></code></dt>
<dd><p class="first last">The pixel aspect ratio of the raw camera image.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="camera-movement-corrections">
<span id="mov"></span><h2>Camera Movement Corrections<a class="headerlink" href="#camera-movement-corrections" title="Permalink to this headline">¶</a></h2>
<p>Movement corrections are saved as <cite>JSON</cite> formatted ASCII files with extension <code class="docutils literal"><span class="pre">.cmc</span></code>. The <cite>JSON</cite> data contains the following fields:</p>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">transform_matrix</span></code></dt>
<dd><p class="first last">The affine transform matrix to transform &#8220;moved&#8221; coordinates in to alignment with &#8220;reference&#8221; coordinates.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">im_array_shape</span></code></dt>
<dd><p class="first last">The (x,y) dimensions of the image to which this correction applies.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">ref_points</span></code></dt>
<dd><p class="first last">Pixel coordinates (x,y in display coordinates) of the matching points used to determine the transform in the &#8220;reference&#8221; image.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">moved_points</span></code></dt>
<dd><p class="first last">Pixel coordinates (x,y in display coordinates) of the matching points used to determine the transform in the &#8220;moved&#8221; image.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">history</span></code></dt>
<dd><p class="first last">Human-readable provenance of the data.</p>
</dd>
</dl>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dev_imsources.html" class="btn btn-neutral float-right" title="Image Sources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api_examples.html" class="btn btn-neutral" title="Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2023, European Atomic Energy Community (EURATOM)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'',
              LANGUAGE:'en',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  false,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>